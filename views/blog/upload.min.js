function s3_upload(a,b){new S3Upload({s3_object_name:a,file_dom_selector:b,s3_sign_put_url:"/sign_s3",onProgress:function(a){$("#"+b+"Status div").attr("style","width: "+a+"%;")},onFinishS3Put:function(a){var c="<div>File uploaded successfully! Image url is: <code>"+a+"</code></div>";$("#"+b+"Url").append(c)},onError:function(a){var c="<div>"+a+"</div>";$("#"+b+"Url").append(c)}})}function uploadImage(a){var b=Math.floor(Math.random()*Math.pow(100,3)+1);$("#"+a.id+"Status").removeClass("hidden"),s3_upload(b,a.id),$("#"+a.id+"Url").removeClass("hidden")}$(document).ready(function(){$("#addPostImages").click(function(){var a="blogImage"+Math.floor(Math.random()*Math.pow(100,3)+1),b='<div id="'+a+'Status" class="progress hidden"><div class="progress-bar" style="width: 0%;" aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" role="progressbar"></div></div><input id="'+a+'" type="file" multiple /><div id="'+a+'Url" class="hidden"></div><button class="btn btn-default" type="button" onclick="uploadImage('+a+')">Upload</button>';$("#postImages").append(b)})});