function s3_upload(a,b,c){new S3Upload({s3_object_name:a,file_dom_selector:b,s3_sign_put_url:"/sign_s3",onProgress:function(a){$("#"+b+"Status div").attr("style","width: "+a+"%;")},onFinishS3Put:function(a){var d="File uploaded successfully! Image url is: <code>"+a+"</code>";$("#"+b+"Url").append(d),void 0!=c&&$("#"+c).val(a)},onError:function(a){var c="<div>"+a+"</div>";$("#"+b+"Url").append(c)}})}function uploadImage(a,b){var c=Math.floor(Math.random()*Math.pow(100,3)+1);$("#"+a.id+"Status").removeClass("hidden"),s3_upload(c,a.id,b),$("#"+a.id+"Url").removeClass("hidden")}$(document).ready(function(){$("#addPostImages").click(function(){var a="blogImage"+Math.floor(Math.random()*Math.pow(100,3)+1),b='<div><code><strong>Note:</strong> You can select multiple files</code></div><div id="'+a+'Status" class="progress hidden"><div class="progress-bar" style="width: 0%;" aria-valuemax="100" aria-valuemin="0" aria-valuenow="0" role="progressbar"></div></div><input id="'+a+'" type="file" multiple /><div class="text-center"><div id="'+a+'Url" class="hidden"></div><button class="btn btn-sm btn-primary" type="button" onclick="uploadImage('+a+') " title="Upload File(s)"><span class=" fa fa-upload"></span> Upload Image(s)</button></div>';$("#postImages").append(b),$(this).hide()})});